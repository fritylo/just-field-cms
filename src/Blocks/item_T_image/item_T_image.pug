mixin item_T_image(child)
   <?php global $glo; ?>
   - var path = glo['path']
   - var path_parts = glo['path_parts']
   - var attach = glo['attach']

   if child
      tr(data-item-id=child.id, data-item-type=child.type.name).item_T_image&attributes(attributes)
         td(colname='order').page_table-order.row.jcc.aic.cup
            img(src=`${attach}/Images/up-down.svg` draggable="false")
         td(colname='key').p0
            input(placeholder='Input key...', value=child.key)
         td(colname='name').p0
            input(placeholder='Input name...', value=child.name)
         td(colname='value').w100.p0
            .row
               if child.value['src']
                  .item_T_image__thumbnail.row.jcc.aic
                     img(src=child.value['src'])
                  +button('Show')(data-mfp-src=child.value['src']).item_T_image__show-button
               else
                  .item_T_image__thumbnail.item_T_image__thumbnail_free.row.jcc.aic
                     img(src='').dn
                  +button('Show')(data-mfp-src=child.value, disabled="disabled").item_T_image__show-button
               +button('Upload', 'dark').item_T_image__upload-button
               form.dn.item_T_image__file-form
                  input(type="file", name="image", accept="image/*").item_T_image__file
         td(colname='type', colspan=2)= child.type.name
         td.tac(colname='permission') edit

   else

      tr(data-item-id='{id}', data-item-type='{type}').item_T_image&attributes(attributes)
         td(colname='order').page_table-order.row.jcc.aic.cup
            img(src=`${attach}/Images/up-down.svg` draggable="false")
         td(colname='key').p0
            input(placeholder='Input key...', value='{key}')
         td(colname='name').p0
            input(placeholder='Input name...', value='{name}')
         td(colname='value').w100.p0
            .row
               .item_T_image__thumbnail.item_T_image__thumbnail_free.row.jcc.aic
                  img(src='').dn
               +button('Show')(href='{value}', disabled="disabled").item_T_image__show-button
               +button('Upload', 'dark').item_T_image__upload-button
               form.dn.item_T_image__file-form
                  input(type="file", name="image", accept="image/*").item_T_image__file
         td(colname='type', colspan=2) {type}
         td.tac(colname='permission') edit